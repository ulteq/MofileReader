<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MofileReader: gh-pages</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MofileReader
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md_node_modules_gh-pages_readme.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">gh-pages </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Publish files to a <code>gh-pages</code> branch on GitHub (or any other branch anywhere else).</p>
<h2>Getting Started</h2>
<div class="fragment"><div class="line">npm install gh-pages --save-dev</div></div><!-- fragment --><p>This module requires Git <code>&gt;=1.9</code>.</p>
<h2>Basic Usage</h2>
<div class="fragment"><div class="line">var ghpages = require(&#39;gh-pages&#39;);</div><div class="line"></div><div class="line">ghpages.publish(&#39;dist&#39;, function(err) {});</div></div><!-- fragment --><h2><code>publish</code></h2>
<div class="fragment"><div class="line">ghpages.publish(dir, callback);</div><div class="line">// or...</div><div class="line">ghpages.publish(dir, options, callback);</div></div><!-- fragment --><p>Calling this function will create a temporary clone of the current repository, create a <code>gh-pages</code> branch if one doesn't already exist, copy over all files from the base path, or only those that match patterns from the optional <code>src</code> configuration, commit all changes, and push to the <code>origin</code> remote.</p>
<p>If a <code>gh-pages</code> branch already exists, it will be updated with all commits from the remote before adding any commits from the provided <code>src</code> files.</p>
<p><b>Note</b> that any files in the <code>gh-pages</code> branch that are <em>not</em> in the <code>src</code> files <b>will be removed</b>. See the <a href="#optionsadd"><code>add</code> option</a> if you don't want any of the existing files removed.</p>
<h3><code>dir</code></h3>
<ul>
<li>type: <code>string</code></li>
</ul>
<p>The base directory for all source files (those listed in the <code>src</code> config property).</p>
<p>Example use:</p>
<div class="fragment"><div class="line">/**</div><div class="line"> * Given the following directory structure:</div><div class="line"> *</div><div class="line"> *   dist/</div><div class="line"> *     index.html</div><div class="line"> *     js/</div><div class="line"> *       site.js</div><div class="line"> *</div><div class="line"> * The usage below will create a `gh-pages` branch that looks like this:</div><div class="line"> *</div><div class="line"> *   index.html</div><div class="line"> *   js/</div><div class="line"> *     site.js</div><div class="line"> *</div><div class="line"> */</div><div class="line">ghpages.publish(&#39;dist&#39;, callback);</div></div><!-- fragment --><h3>Options</h3>
<p>The default options work for simple cases. The options described below let you push to alternate branches, customize your commit messages, and more.</p>
<h4>options.src</h4>
<ul>
<li>type: <code>string|Array&lt;string&gt;</code></li>
<li>default: `'**/*'`</li>
</ul>
<p>The <a href="https://github.com/isaacs/minimatch">minimatch</a> pattern or array of patterns used to select which files should be published.</p>
<h4>options.branch</h4>
<ul>
<li>type: <code>string</code></li>
<li>default: <code>'gh-pages'</code></li>
</ul>
<p>The name of the branch you'll be pushing to. The default uses GitHub's <code>gh-pages</code> branch, but this can be configured to push to any branch on any remote.</p>
<p>Example use of the <code>branch</code> option:</p>
<div class="fragment"><div class="line">/**</div><div class="line"> * This task pushes to the `master` branch of the configured `repo`.</div><div class="line"> */</div><div class="line">ghpages.publish(&#39;dist&#39;, {</div><div class="line">  branch: &#39;master&#39;,</div><div class="line">  repo: &#39;https://example.com/other/repo.git&#39;</div><div class="line">}, callback);</div></div><!-- fragment --><h4>options.dest</h4>
<ul>
<li>type: <code>string</code></li>
<li>default: `'.'`</li>
</ul>
<p>The destination folder within the destination branch. By default, all files are published to the root of the repository.</p>
<p>Example use of the <code>dest</code> option:</p>
<div class="fragment"><div class="line">/**</div><div class="line"> * Place content in the static/project subdirectory of the target</div><div class="line"> * branch.</div><div class="line"> */</div><div class="line">ghpages.publish(&#39;dist&#39;, {</div><div class="line">  dest: &#39;static/project&#39;</div><div class="line">}, callback);</div></div><!-- fragment --><h4>options.dotfiles</h4>
<ul>
<li>type: <code>boolean</code></li>
<li>default: <code>false</code></li>
</ul>
<p>Include dotfiles. By default, files starting with <code>.</code> are ignored unless they are explicitly provided in the <code>src</code> array. If you want to also include dotfiles that otherwise match your <code>src</code> patterns, set <code>dotfiles: true</code> in your options.</p>
<p>Example use of the <code>dotfiles</code> option:</p>
<div class="fragment"><div class="line">/**</div><div class="line"> * The usage below will push dotfiles (directories and files)</div><div class="line"> * that otherwise match the `src` pattern.</div><div class="line"> */</div><div class="line">ghpages.publish(&#39;dist&#39;, {dotfiles: true}, callback);</div></div><!-- fragment --><h4>options.add</h4>
<ul>
<li>type: <code>boolean</code></li>
<li>default: <code>false</code></li>
</ul>
<p>Only add, and never remove existing files. By default, existing files in the target branch are removed before adding the ones from your <code>src</code> config. If you want the task to add new <code>src</code> files but leave existing ones untouched, set <code>add: true</code> in your options.</p>
<p>Example use of the <code>add</code> option:</p>
<div class="fragment"><div class="line">/**</div><div class="line"> * The usage below will only add files to the `gh-pages` branch, never removing</div><div class="line"> * any existing files (even if they don&#39;t exist in the `src` config).</div><div class="line"> */</div><div class="line">ghpages.publish(&#39;dist&#39;, {add: true}, callback);</div></div><!-- fragment --><h4>options.repo</h4>
<ul>
<li>type: <code>string</code></li>
<li>default: url for the origin remote of the current dir (assumes a git repository)</li>
</ul>
<p>By default, <code>gh-pages</code> assumes that the current working directory is a git repository, and that you want to push changes to the <code>origin</code> remote.</p>
<p>If instead your script is not in a git repository, or if you want to push to another repository, you can provide the repository URL in the <code>repo</code> option.</p>
<p>Example use of the <code>repo</code> option:</p>
<div class="fragment"><div class="line">/**</div><div class="line"> * If the current directory is not a clone of the repository you want to work</div><div class="line"> * with, set the URL for the repository in the `repo` option.  This usage will</div><div class="line"> * push all files in the `src` config to the `gh-pages` branch of the `repo`.</div><div class="line"> */</div><div class="line">ghpages.publish(&#39;dist&#39;, {</div><div class="line">  repo: &#39;https://example.com/other/repo.git&#39;</div><div class="line">}, callback);</div></div><!-- fragment --><h4>options.remote</h4>
<ul>
<li>type: <code>string</code></li>
<li>default: <code>'origin'</code></li>
</ul>
<p>The name of the remote you'll be pushing to. The default is your <code>'origin'</code> remote, but this can be configured to push to any remote.</p>
<p>Example use of the <code>remote</code> option:</p>
<div class="fragment"><div class="line">/**</div><div class="line"> * This task pushes to the `gh-pages` branch of of your `upstream` remote.</div><div class="line"> */</div><div class="line">ghpages.publish(&#39;dist&#39;, {</div><div class="line">  remote: &#39;upstream&#39;</div><div class="line">}, callback);</div></div><!-- fragment --><h4>options.tag</h4>
<ul>
<li>type: <code>string</code></li>
<li>default: `''`</li>
</ul>
<p>Create a tag after committing changes on the target branch. By default, no tag is created. To create a tag, provide the tag name as the option value.</p>
<h4>options.message</h4>
<ul>
<li>type: <code>string</code></li>
<li>default: <code>'Updates'</code></li>
</ul>
<p>The commit message for all commits.</p>
<p>Example use of the <code>message</code> option:</p>
<div class="fragment"><div class="line">/**</div><div class="line"> * This adds commits with a custom message.</div><div class="line"> */</div><div class="line">ghpages.publish(&#39;dist&#39;, {</div><div class="line">  message: &#39;Auto-generated commit&#39;</div><div class="line">}, callback);</div></div><!-- fragment --><h4>options.user</h4>
<ul>
<li>type: <code>Object</code></li>
<li>default: <code>null</code></li>
</ul>
<p>If you are running the <code>gh-pages</code> task in a repository without a <code>user.name</code> or <code>user.email</code> git config properties (or on a machine without these global config properties), you must provide user info before git allows you to commit. The <code>options.user</code> object accepts <code>name</code> and <code>email</code> string values to identify the committer.</p>
<p>Example use of the <code>user</code> option:</p>
<div class="fragment"><div class="line">ghpages.publish(&#39;dist&#39;, {</div><div class="line">  user: {</div><div class="line">    name: &#39;Joe Code&#39;,</div><div class="line">    email: &#39;coder@example.com&#39;</div><div class="line">  }</div><div class="line">}, callback);</div></div><!-- fragment --><h4>options.push</h4>
<ul>
<li>type: <code>boolean</code></li>
<li>default: <code>true</code></li>
</ul>
<p>Push branch to remote. To commit only (with no push) set to <code>false</code>.</p>
<p>Example use of the <code>push</code> option:</p>
<div class="fragment"><div class="line">ghpages.publish(&#39;dist&#39;, {push: false}, callback);</div></div><!-- fragment --><h4>options.silent</h4>
<ul>
<li>type: <code>boolean</code></li>
<li>default: <code>false</code></li>
</ul>
<p>Avoid showing repository URLs or other information in errors.</p>
<p>Example use of the <code>silent</code> option:</p>
<div class="fragment"><div class="line">/**</div><div class="line"> * This configuration will avoid logging the GH_TOKEN if there is an error.</div><div class="line"> */</div><div class="line">ghpages.publish(&#39;dist&#39;, {</div><div class="line">  repo: &#39;https://&#39; + process.env.GH_TOKEN + &#39;@github.com/user/private-repo.git&#39;,</div><div class="line">  silent: true</div><div class="line">}, callback);</div></div><!-- fragment --><h4>options.git</h4>
<ul>
<li>type: <code>string</code></li>
<li>default: <code>'git'</code></li>
</ul>
<p>Your <code>git</code> executable.</p>
<p>Example use of the <code>git</code> option:</p>
<div class="fragment"><div class="line">/**</div><div class="line"> * If `git` is not on your path, provide the path as shown below.</div><div class="line"> */</div><div class="line">ghpages.publish(&#39;dist&#39;, {</div><div class="line">  git: &#39;/path/to/git&#39;</div><div class="line">}, callback);</div></div><!-- fragment --><h2>Command Line Utility</h2>
<p>Installing the package creates a <code>gh-pages</code> command line utility. Run <code>gh-pages --help</code> to see a list of supported options.</p>
<p>With a local install of <code>gh-pages</code>, you can set up a package script with something like the following:</p>
<div class="fragment"><div class="line">&quot;scripts&quot;: {</div><div class="line">  &quot;deploy&quot;: &quot;gh-pages -d dist&quot;</div><div class="line">}</div></div><!-- fragment --><p>And then to publish everything from your <code>dist</code> folder to your <code>gh-pages</code> branch, you'd run this:</p>
<div class="fragment"><div class="line">npm run deploy</div></div><!-- fragment --><h2>Debugging</h2>
<p>To get additional output from the <code>gh-pages</code> script, set <code>NODE_DEBUG=gh-pages</code>. For example:</p>
<div class="fragment"><div class="line">NODE_DEBUG=gh-pages npm run deploy</div></div><!-- fragment --><h2>Dependencies</h2>
<p>Note that this plugin requires Git 1.9 or higher (because it uses the <code>--exit-code</code> option for <code>git ls-remote</code>). If you'd like to see this working with earlier versions of Git, please <a href="https://github.com/tschaub/gh-pages/issues">open an issue</a>.</p>
<p><a href="https://travis-ci.org/tschaub/gh-pages"></a></p>
<h2>Tips</h2>
<p>### when get error <code>branch already exists</code> </p><div class="fragment"><div class="line">{ ProcessError: fatal: A branch named &#39;gh-pages&#39; already exists.</div><div class="line"></div><div class="line">    at ChildProcess.&lt;anonymous&gt; (~/node_modules/gh-pages/lib/git.js:42:16)</div><div class="line">    at ChildProcess.emit (events.js:180:13)</div><div class="line">    at maybeClose (internal/child_process.js:936:16)</div><div class="line">    at Process.ChildProcess._handle.onexit (internal/child_process.js:220:5)</div><div class="line">  code: 128,</div><div class="line">  message: &#39;fatal: A branch named \&#39;gh-pages\&#39; already exists.\n&#39;,</div><div class="line">  name: &#39;ProcessError&#39; }</div></div><!-- fragment --><p>When processing <code>gh-pages</code> module generate file in&lt;tt&gt;.cache/ and if stuck some reason like wrong password it will not automatically cleanup</p>
<p>Run <code>~node_modules/gh-pages/bin/gh-pages-clean</code> or remove <code>~node_modules/gh-pages/.cache</code> </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Nov 6 2018 21:11:57 for MofileReader by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
